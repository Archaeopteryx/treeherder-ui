

<div collapse="isCollapsedCompare">
    <div class="well" >
        <span class="label">{{ oldRev }}</span> <i class="icon-chevron-right"></i> <span class="label">{{ newRev }}</span>
        <a class="btn" href="http://perf.snarkfest.net/compare-talos/index.html?oldRevs=c95a82a8c15f&newRev=8196c86355bc&submit=true">compare</a>
    </div>
</div>
<div
    ng-repeat="push in result_sets"
    ng-controller="PushCtrl"
    class="row-fluid">

    <a class="btn {{ pushResultBtn }}"
       ng-click="isCollapsedResults = !isCollapsedResults">
           <i class="{{ icon }}"></i>
           {{ ' results' | showOrHide:isCollapsedResults }}
    </a>
    <a class="btn btn-info"
       ng-click="isCollapsedRevisions = !isCollapsedRevisions">
        {{push.author}} - {{push.push_timestamp}}
    </a>

    <span class="pushactions">
        <span class="dropdown">
            <a class="btn dropdown-toggle" data-hover="dropdown" data-delay="1000" href="#">
                <i class="icon-cog"></i>
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li class="disabled"><a>Push Actions</a></li>
                <li class="divider"></li>
                <li><a target="_blank" href="https://tbpl.mozilla.org/mcmerge/?cset=8196c86355bc">m-mcMerge</a></li>
                <li><a target="_blank" href="https://secure.pub.build.mozilla.org/buildapi/self-serve/mozilla-central/rev/8196c86355bc">BuildAPI</a></li>
                <li><a target="_blank" href="">Changeset URL List</a></li>
                <li><a href="">Compare</a></li>
                <li><a href="">Cancel All Jobs</a></li>
            </ul>
        </span>
    </span>
    <ul class="unstyled" collapse="isCollapsedRevisions">
        <li ng-repeat="revision in push.revisions">
            <h5>{{revision.name}} - <a class="btn">{{revision.revision}}</a> <a class="btn">{{revision.bug_id}}</a></h5>
            <small>{{revision.message}}</small>
        </li>
    </ul>
    <div collapse="!isLoadingResults">
        <div class="progress progress-striped active">
            <div class="bar" style="width: 100%;"></div>
        </div>
    </div>
    <div collapse="isCollapsedResults">

        <div class="row-fluid"
             ng-repeat="platform in job_results | filter:query">
            <div class="span2"><span>{{ platform.platform }} - {{ platform.warning_level }}</span></div>
            <div class="span10">
                <div ng-repeat="group in platform.groups" class="btn-group">
                    <!--
                        I would like this to be a partial for job and subjob.  But
                        in order for subjobs to repeat, I need a span element to
                        repeat on, and that makes the buttons not show as a group
                        properly.
                    -->
                    <a class="btn-mini btn-info btn" title="{{ group.jg_name }}">
                       {{ group.symbol }}
                    </a>
                    <span ng-repeat="job in group.jobs" class="btn-group">
                        <a class="btn-mini {{ job|typeClass }} {{ job.result|resultClass }}"
                           title="{{ job.jt_name }}">
                           <!--
                               We should conditionally remove the fire icon once they have
                               starred it, most likely.
                           -->
                           <i class="icon-fire" ng-show="job.result=='fail' || job.result=='orange'"></i>
                           {{ job.jt_symbol }}
                        </a>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>
